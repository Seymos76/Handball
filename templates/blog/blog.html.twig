{% extends 'base.html.twig' %}

{% block title %}Hello !{% endblock %}

{% block body %}
    <h1>Blog</h1>
	{% for a in articles %}
        <article>
			<h2>{{ a.title }}</h2>
			<figure>
				<img alt="" src="{{ asset('uploads/articles/' ~ a.image) }}" height="300" />
			</figure>
			<p>{{ a.summary|raw }}</p>
			<a href="{{ path('article', {'slug': a.slug}) }}">Lire l'article</a>
		</article>
	{% endfor %}

	<nav aria-label="Page navigation example">
		<ul class="pagination">
			{% if page > 1 %}
				<li class="page-item"><a class="page-link" href="{{ path('blog', {'page': page-1}) }}">Previous</a></li>
			{% endif %}
			{% for i in 1..nb_pages %}
				{% if page == i %}
					<li class="page-item active"><a href="{{ path('blog', {'page': i}) }}" class="page-link">{{ i }}</a></li>
				{% else %}
					<li class="page-item"><a href="{{ path('blog', {'page': i}) }}" class="page-link">{{ i }}</a></li>
				{% endif %}
			{% endfor %}
			{% if page < nb_pages %}
				<li class="page-item"><a class="page-link" href="{{ path('blog', {'page': page+1}) }}">Next</a></li>
			{% endif %}
		</ul>
	</nav>
{% endblock %}
